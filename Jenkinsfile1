#!/usr/bin/env groovy

@Library('shared-library') _ //master or whatever branch



pipeline{
	agent any 
	
   stages{
	 //  stage('Install nginx') {
        //    	steps {
       //     	    nginx-installation()
       //     	}
       //    }
	  // stage('Install Git') {
         //   	steps {
         //   	    git-installation()
       //     	}
        //   } 		
	     stage('SharedLibrary Hello World'){
          	  steps {
              		  helloWorld("manoj", "monday")
           	 }
             }
    
	   stage('Docker Container Clean'){
              steps {
                  sh'docker system prune -a --volumes -f'
                  sh'docker rm -f samplecont'
                  sh'docker rmi -f nginx:alpine'
	            }
	    } 
	    stage('Docker Container'){
        	    steps {
		            //sh'docker exec -it jenkins/jenkins:lts /bin/bash'
                	sh 'docker-compose up -d --build'
            	    }
  	    }
	   
    }
}
